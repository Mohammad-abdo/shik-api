{
  "info": {
    "name": "شيخي - التلميذ (Student API)",
    "description": "مجموعة Postman خاصة بالتلميذ فقط: تسجيل دخول، اشتراك، مشايخ قرآن، حجوزات، جلساتي، دوراتي، تقاريري، كورسات، فيديو، إشعارات، شهادات، امتحانات.\n\n**Base URL:** `{{base_url}}` = http://localhost:3001/api\n**Auth:** Bearer Token (يُضبط بعد تسجيل الدخول في المتغير `token`).\n**Accept-Language:** ar | en",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    { "key": "base_url", "value": "http://localhost:3001/api" },
    { "key": "token", "value": "" },
    { "key": "sheikh_id", "value": "" },
    { "key": "session_id", "value": "" },
    { "key": "course_id", "value": "" },
    { "key": "booking_id", "value": "" },
    { "key": "subscription_id", "value": "" },
    { "key": "exam_id", "value": "" },
    { "key": "video_id", "value": "" },
    { "key": "student_id", "value": "" }
  ],
  "auth": {
    "type": "bearer",
    "bearer": [{ "key": "token", "value": "{{token}}", "type": "string" }]
  },
  "item": [
    {
      "name": "1. تسجيل الدخول والاشتراك (Auth)",
      "description": "تسجيل دخول، تسجيل حساب جديد، تحقق، تحديث التوكن.",
      "item": [
        {
          "name": "تسجيل دخول (Login)",
          "request": {
            "auth": { "type": "noauth" },
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json", "type": "text" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"student@example.com\",\n  \"password\": \"your_password\"\n}"
            },
            "url": { "raw": "{{base_url}}/auth/login", "host": ["{{base_url}}"], "path": ["auth", "login"] },
            "description": "POST /api/auth/login - تسجيل الدخول بالبريد وكلمة المرور. احفظ access_token في متغير token."
          }
        },
        {
          "name": "تسجيل دخول موبايل (user_type)",
          "request": {
            "auth": { "type": "noauth" },
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json", "type": "text" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"student@example.com\",\n  \"password\": \"your_password\",\n  \"user_type\": \"student\"\n}"
            },
            "url": { "raw": "{{base_url}}/auth/login", "host": ["{{base_url}}"], "path": ["auth", "login"] },
            "description": "POST /api/auth/login مع user_type للدخول كتلميذ."
          }
        },
        {
          "name": "إنشاء حساب (Signup)",
          "request": {
            "auth": { "type": "noauth" },
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json", "type": "text" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"new@example.com\",\n  \"password\": \"secure_password\",\n  \"firstName\": \"أحمد\",\n  \"lastName\": \"محمد\"\n}"
            },
            "url": { "raw": "{{base_url}}/auth/signup", "host": ["{{base_url}}"], "path": ["auth", "signup"] },
            "description": "POST /api/auth/signup - تسجيل حساب جديد (ويب)."
          }
        },
        {
          "name": "إنشاء حساب موبايل (Register)",
          "request": {
            "auth": { "type": "noauth" },
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json", "type": "text" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"new@example.com\",\n  \"password\": \"secure_password\",\n  \"firstName\": \"أحمد\",\n  \"lastName\": \"محمد\",\n  \"student_phone\": \"+201234567890\"\n}"
            },
            "url": { "raw": "{{base_url}}/auth/register", "host": ["{{base_url}}"], "path": ["auth", "register"] },
            "description": "POST /api/auth/register - تسجيل تلميذ (موبايل). يمكن إرفاق profile_image."
          }
        },
        {
          "name": "تحقق البريد (Verify Email)",
          "request": {
            "auth": { "type": "noauth" },
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json", "type": "text" }],
            "body": { "mode": "raw", "raw": "{\n  \"email\": \"user@example.com\",\n  \"otp\": \"123456\"\n}" },
            "url": { "raw": "{{base_url}}/auth/verify-email", "host": ["{{base_url}}"], "path": ["auth", "verify-email"] }
          }
        },
        {
          "name": "تحقق الجوال (Verify Phone)",
          "request": {
            "auth": { "type": "noauth" },
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json", "type": "text" }],
            "body": { "mode": "raw", "raw": "{\n  \"phone\": \"+201234567890\",\n  \"otp\": \"123456\"\n}" },
            "url": { "raw": "{{base_url}}/auth/verify-phone", "host": ["{{base_url}}"], "path": ["auth", "verify-phone"] }
          }
        },
        {
          "name": "تحديث التوكن (Refresh)",
          "request": {
            "auth": { "type": "noauth" },
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json", "type": "text" }],
            "body": { "mode": "raw", "raw": "{\n  \"refresh_token\": \"YOUR_REFRESH_TOKEN\"\n}" },
            "url": { "raw": "{{base_url}}/auth/refresh", "host": ["{{base_url}}"], "path": ["auth", "refresh"] }
          }
        },
        {
          "name": "إرسال OTP لتسجيل الدخول",
          "request": {
            "auth": { "type": "noauth" },
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json", "type": "text" }],
            "body": { "mode": "raw", "raw": "{\n  \"method\": \"email\",\n  \"identifier\": \"user@example.com\"\n}" },
            "url": { "raw": "{{base_url}}/auth/send-login-otp", "host": ["{{base_url}}"], "path": ["auth", "send-login-otp"] }
          }
        },
        {
          "name": "نسيت كلمة المرور",
          "request": {
            "auth": { "type": "noauth" },
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json", "type": "text" }],
            "body": { "mode": "raw", "raw": "{\n  \"email\": \"user@example.com\"\n}" },
            "url": { "raw": "{{base_url}}/auth/forgot-password", "host": ["{{base_url}}"], "path": ["auth", "forgot-password"] }
          }
        },
        {
          "name": "إعادة تعيين كلمة المرور",
          "request": {
            "auth": { "type": "noauth" },
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json", "type": "text" }],
            "body": { "mode": "raw", "raw": "{\n  \"email\": \"user@example.com\",\n  \"otp\": \"123456\",\n  \"new_password\": \"new_secure_password\"\n}" },
            "url": { "raw": "{{base_url}}/auth/reset-password", "host": ["{{base_url}}"], "path": ["auth", "reset-password"] }
          }
        },
        {
          "name": "الملف الشخصي (Me)",
          "request": {
            "method": "GET",
            "url": { "raw": "{{base_url}}/auth/me", "host": ["{{base_url}}"], "path": ["auth", "me"] },
            "description": "GET /api/auth/me - بيانات المستخدم الحالي. يتطلب Authorization."
          }
        }
      ]
    },
    {
      "name": "2. الملف الشخصي للتلميذ (User)",
      "description": "بيانات التلميذ بعد تسجيل الدخول.",
      "item": [
        {
          "name": "جلب بيانات التلميذ",
          "request": {
            "method": "GET",
            "url": { "raw": "{{base_url}}/user", "host": ["{{base_url}}"], "path": ["user"] },
            "description": "GET /api/user - بيانات التلميذ (اسم، بريد، جوال، صورة، إلخ). يتطلب Authorization."
          }
        }
      ]
    },
    {
      "name": "3. اشتراكات التلميذ (Student Subscriptions)",
      "description": "باقات الاشتراك والاشتراك الفعّال وإلغاء الاشتراك.",
      "item": [
        {
          "name": "قائمة الباقات",
          "request": {
            "auth": { "type": "noauth" },
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/student-subscriptions/packages?activeOnly=true",
              "host": ["{{base_url}}"],
              "path": ["student-subscriptions", "packages"],
              "query": [{ "key": "activeOnly", "value": "true" }]
            },
            "description": "GET /api/student-subscriptions/packages - باقات الاشتراك المتاحة."
          }
        },
        {
          "name": "تفاصيل باقة",
          "request": {
            "auth": { "type": "noauth" },
            "method": "GET",
            "url": { "raw": "{{base_url}}/student-subscriptions/packages/{{subscription_id}}", "host": ["{{base_url}}"], "path": ["student-subscriptions", "packages", "{{subscription_id}}"] }
          }
        },
        {
          "name": "الاشتراك في باقة",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json", "type": "text" }],
            "body": { "mode": "raw", "raw": "{\n  \"packageId\": \"PACKAGE_UUID\"\n}" },
            "url": { "raw": "{{base_url}}/student-subscriptions/subscribe", "host": ["{{base_url}}"], "path": ["student-subscriptions", "subscribe"] },
            "description": "POST /api/student-subscriptions/subscribe - اشتراك في باقة. يتطلب Authorization."
          }
        },
        {
          "name": "اشتراكاتي",
          "request": {
            "method": "GET",
            "url": { "raw": "{{base_url}}/student-subscriptions/my-subscriptions", "host": ["{{base_url}}"], "path": ["student-subscriptions", "my-subscriptions"] },
            "description": "GET /api/student-subscriptions/my-subscriptions - قائمة اشتراكات التلميذ."
          }
        },
        {
          "name": "الاشتراك النشط",
          "request": {
            "method": "GET",
            "url": { "raw": "{{base_url}}/student-subscriptions/my-active", "host": ["{{base_url}}"], "path": ["student-subscriptions", "my-active"] },
            "description": "GET /api/student-subscriptions/my-active - الاشتراك النشط حالياً."
          }
        },
        {
          "name": "إلغاء اشتراك",
          "request": {
            "method": "POST",
            "url": { "raw": "{{base_url}}/student-subscriptions/cancel/{{subscription_id}}", "host": ["{{base_url}}"], "path": ["student-subscriptions", "cancel", "{{subscription_id}}"] },
            "description": "POST /api/student-subscriptions/cancel/:id - إلغاء اشتراك."
          }
        }
      ]
    },
    {
      "name": "4. مشايخ القرآن (v1 - Quran Sheikhs)",
      "description": "قائمة المشايخ، تفاصيل الشيخ، التعليقات، إضافة تعليق.",
      "item": [
        {
          "name": "قائمة مشايخ القرآن",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept-Language", "value": "ar", "type": "text" }],
            "url": {
              "raw": "{{base_url}}/v1/quran-sheikhs?page=1&limit=10&search=",
              "host": ["{{base_url}}"],
              "path": ["v1", "quran-sheikhs"],
              "query": [
                { "key": "page", "value": "1" },
                { "key": "limit", "value": "10" },
                { "key": "search", "value": "" }
              ]
            },
            "description": "GET /api/v1/quran-sheikhs - جلب قائمة مشايخ القرآن مع Pagination."
          }
        },
        {
          "name": "تفاصيل الشيخ",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept-Language", "value": "ar", "type": "text" }],
            "url": { "raw": "{{base_url}}/v1/quran-sheikhs/{{sheikh_id}}", "host": ["{{base_url}}"], "path": ["v1", "quran-sheikhs", "{{sheikh_id}}"] },
            "description": "GET /api/v1/quran-sheikhs/:id - تفاصيل الشيخ (مع is_subscribed إذا أُرسل التوكن)."
          }
        },
        {
          "name": "تعليقات الشيخ",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept-Language", "value": "ar", "type": "text" }],
            "url": {
              "raw": "{{base_url}}/v1/quran-sheikhs/{{sheikh_id}}/reviews?page=1&limit=10",
              "host": ["{{base_url}}"],
              "path": ["v1", "quran-sheikhs", "{{sheikh_id}}", "reviews"],
              "query": [{ "key": "page", "value": "1" }, { "key": "limit", "value": "10" }]
            }
          }
        },
        {
          "name": "إضافة تعليق (مشترك فقط)",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Accept-Language", "value": "ar", "type": "text" },
              { "key": "Content-Type", "value": "application/json", "type": "text" }
            ],
            "body": { "mode": "raw", "raw": "{\n  \"rating\": 5,\n  \"comment\": \"تجربة ممتازة وانصح به بشدة\"\n}" },
            "url": { "raw": "{{base_url}}/v1/quran-sheikhs/{{sheikh_id}}/reviews", "host": ["{{base_url}}"], "path": ["v1", "quran-sheikhs", "{{sheikh_id}}", "reviews"] },
            "description": "POST /api/v1/quran-sheikhs/:id/reviews - إضافة تعليق (للطالب المشترك فقط)."
          }
        }
      ]
    },
    {
      "name": "5. حجز شيخ (v1 - Bookings)",
      "description": "حجز باقة مع شيخ قرآن.",
      "item": [
        {
          "name": "حجز شيخ",
          "request": {
            "method": "POST",
            "header": [
              { "key": "Accept-Language", "value": "ar", "type": "text" },
              { "key": "Content-Type", "value": "application/json", "type": "text" }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"sheikh_id\": \"{{sheikh_id}}\",\n  \"package_id\": \"pkg_1\",\n  \"payment_type\": \"monthly\"\n}"
            },
            "url": { "raw": "{{base_url}}/v1/bookings", "host": ["{{base_url}}"], "path": ["v1", "bookings"] },
            "description": "POST /api/v1/bookings - حجز باقة مع الشيخ. payment_type: monthly | per_session | quarterly."
          }
        }
      ]
    },
    {
      "name": "6. جلساتي وتقاريري (v1 - Student)",
      "description": "جدول الجلسات، تقرير جلسة، دوراتي، تفاصيل دورة، تقاريري.",
      "item": [
        {
          "name": "جدول جلساتي",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept-Language", "value": "ar", "type": "text" }],
            "url": {
              "raw": "{{base_url}}/v1/student/sessions?month=2&year=2024",
              "host": ["{{base_url}}"],
              "path": ["v1", "student", "sessions"],
              "query": [{ "key": "month", "value": "2" }, { "key": "year", "value": "2024" }]
            },
            "description": "GET /api/v1/student/sessions - جدول جلسات الطالب للشهر."
          }
        },
        {
          "name": "تقرير الجلسة",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept-Language", "value": "ar", "type": "text" }],
            "url": { "raw": "{{base_url}}/v1/student/sessions/{{session_id}}/report", "host": ["{{base_url}}"], "path": ["v1", "student", "sessions", "{{session_id}}", "report"] },
            "description": "GET /api/v1/student/sessions/:id/report - تقرير جلسة منتهية."
          }
        },
        {
          "name": "دوراتي",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept-Language", "value": "ar", "type": "text" }],
            "url": { "raw": "{{base_url}}/v1/student/courses", "host": ["{{base_url}}"], "path": ["v1", "student", "courses"] },
            "description": "GET /api/v1/student/courses - قائمة الدورات التي اشترك فيها الطالب."
          }
        },
        {
          "name": "تفاصيل الدورة",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept-Language", "value": "ar", "type": "text" }],
            "url": { "raw": "{{base_url}}/v1/student/courses/{{course_id}}", "host": ["{{base_url}}"], "path": ["v1", "student", "courses", "{{course_id}}"] },
            "description": "GET /api/v1/student/courses/:id - تفاصيل الدورة ونسبة التقدم والمشايخ."
          }
        },
        {
          "name": "التقارير بتاعتي",
          "request": {
            "method": "GET",
            "header": [{ "key": "Accept-Language", "value": "ar", "type": "text" }],
            "url": {
              "raw": "{{base_url}}/v1/student/reports?page=1&limit=20",
              "host": ["{{base_url}}"],
              "path": ["v1", "student", "reports"],
              "query": [{ "key": "page", "value": "1" }, { "key": "limit", "value": "20" }]
            },
            "description": "GET /api/v1/student/reports - قائمة تقارير جلسات الطالب."
          }
        }
      ]
    },
    {
      "name": "7. كورسات (Courses)",
      "description": "قائمة الدورات، المميزة، تفاصيل دورة، التسجيل في دورة، دروس الدورة.",
      "item": [
        {
          "name": "قائمة الدورات",
          "request": {
            "auth": { "type": "noauth" },
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/courses?page=1&limit=20",
              "host": ["{{base_url}}"],
              "path": ["courses"],
              "query": [{ "key": "page", "value": "1" }, { "key": "limit", "value": "20" }]
            },
            "description": "GET /api/courses - قائمة الدورات."
          }
        },
        {
          "name": "الدورات المميزة",
          "request": {
            "auth": { "type": "noauth" },
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/courses/featured?page=1&limit=5",
              "host": ["{{base_url}}"],
              "path": ["courses", "featured"],
              "query": [{ "key": "page", "value": "1" }, { "key": "limit", "value": "5" }]
            }
          }
        },
        {
          "name": "تفاصيل دورة",
          "request": {
            "auth": { "type": "noauth" },
            "method": "GET",
            "url": { "raw": "{{base_url}}/courses/{{course_id}}", "host": ["{{base_url}}"], "path": ["courses", "{{course_id}}"] }
          }
        },
        {
          "name": "التسجيل في دورة (Enroll)",
          "request": {
            "method": "POST",
            "url": { "raw": "{{base_url}}/courses/{{course_id}}/enroll", "host": ["{{base_url}}"], "path": ["courses", "{{course_id}}", "enroll"] },
            "description": "POST /api/courses/:id/enroll - تسجيل التلميذ في الدورة. يتطلب Authorization."
          }
        },
        {
          "name": "شيوخ الدورة",
          "request": {
            "auth": { "type": "noauth" },
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/courses/{{course_id}}/sheikhs?page=1&limit=10",
              "host": ["{{base_url}}"],
              "path": ["courses", "{{course_id}}", "sheikhs"],
              "query": [{ "key": "page", "value": "1" }, { "key": "limit", "value": "10" }]
            }
          }
        },
        {
          "name": "دروس الدورة",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/courses/{{course_id}}/lessons?page=1&limit=20",
              "host": ["{{base_url}}"],
              "path": ["courses", "{{course_id}}", "lessons"],
              "query": [{ "key": "page", "value": "1" }, { "key": "limit", "value": "20" }]
            }
          }
        }
      ]
    },
    {
      "name": "8. فيديو وتقدم (Video)",
      "description": "جلسة فيديو للحجز، تقدم الدورة، بدء/إنهاء فيديو.",
      "item": [
        {
          "name": "توكن جلسة الفيديو",
          "request": {
            "method": "GET",
            "url": { "raw": "{{base_url}}/video/session/token/{{booking_id}}", "host": ["{{base_url}}"], "path": ["video", "session", "token", "{{booking_id}}"] },
            "description": "GET /api/video/session/token/:bookingId - للحصول على توكن دخول الجلسة."
          }
        },
        {
          "name": "إنشاء جلسة فيديو",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json", "type": "text" }],
            "body": { "mode": "raw", "raw": "{\n  \"bookingId\": \"{{booking_id}}\"\n}" },
            "url": { "raw": "{{base_url}}/video/session/create", "host": ["{{base_url}}"], "path": ["video", "session", "create"] }
          }
        },
        {
          "name": "إنهاء جلسة فيديو",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json", "type": "text" }],
            "body": { "mode": "raw", "raw": "{\n  \"bookingId\": \"{{booking_id}}\"\n}" },
            "url": { "raw": "{{base_url}}/video/session/end", "host": ["{{base_url}}"], "path": ["video", "session", "end"] }
          }
        },
        {
          "name": "تقدم الدورة",
          "request": {
            "method": "GET",
            "url": { "raw": "{{base_url}}/video/courses/{{course_id}}/progress", "host": ["{{base_url}}"], "path": ["video", "courses", "{{course_id}}", "progress"] },
            "description": "GET /api/video/courses/:course_id/progress - نسبة تقدم التلميذ في الدورة."
          }
        },
        {
          "name": "الوصول لفيديو",
          "request": {
            "method": "GET",
            "url": { "raw": "{{base_url}}/video/videos/{{video_id}}/access", "host": ["{{base_url}}"], "path": ["video", "videos", "{{video_id}}", "access"] }
          }
        },
        {
          "name": "بدء مشاهدة فيديو",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json", "type": "text" }],
            "body": { "mode": "raw", "raw": "{\n  \"lesson_id\": \"LESSON_UUID\",\n  \"course_id\": \"{{course_id}}\"\n}" },
            "url": { "raw": "{{base_url}}/video/videos/{{video_id}}/start", "host": ["{{base_url}}"], "path": ["video", "videos", "{{video_id}}", "start"] }
          }
        },
        {
          "name": "إنهاء مشاهدة فيديو",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json", "type": "text" }],
            "body": { "mode": "raw", "raw": "{\n  \"lesson_id\": \"LESSON_UUID\",\n  \"course_id\": \"{{course_id}}\",\n  \"duration\": 300\n}" },
            "url": { "raw": "{{base_url}}/video/videos/{{video_id}}/complete", "host": ["{{base_url}}"], "path": ["video", "videos", "{{video_id}}", "complete"] }
          }
        }
      ]
    },
    {
      "name": "9. إشعارات (Notifications)",
      "description": "جلب الإشعارات وتحديد كمقروءة.",
      "item": [
        {
          "name": "قائمة الإشعارات",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/notifications?unreadOnly=false",
              "host": ["{{base_url}}"],
              "path": ["notifications"],
              "query": [{ "key": "unreadOnly", "value": "false" }]
            }
          }
        },
        {
          "name": "تحديد كمقروء",
          "request": {
            "method": "PUT",
            "url": { "raw": "{{base_url}}/notifications/:id/read", "host": ["{{base_url}}"], "path": ["notifications", ":id", "read"] }
          }
        },
        {
          "name": "تحديد الكل كمقروء",
          "request": {
            "method": "PUT",
            "url": { "raw": "{{base_url}}/notifications/read-all", "host": ["{{base_url}}"], "path": ["notifications", "read-all"] }
          }
        }
      ]
    },
    {
      "name": "10. شهادات التلميذ (Certificates)",
      "description": "شهادات التلميذ.",
      "item": [
        {
          "name": "شهادات التلميذ",
          "request": {
            "method": "GET",
            "url": { "raw": "{{base_url}}/certificates/student/{{student_id}}", "host": ["{{base_url}}"], "path": ["certificates", "student", "{{student_id}}"] },
            "description": "GET /api/certificates/student/:studentId - شهادات التلميذ (استخدم id التلميذ من /auth/me أو /user)."
          }
        }
      ]
    },
    {
      "name": "11. امتحانات التلميذ (Exams)",
      "description": "امتحاناتي، تقديم إجابات، النتائج.",
      "item": [
        {
          "name": "امتحاناتي",
          "request": {
            "method": "GET",
            "url": { "raw": "{{base_url}}/exams/student/my-exams", "host": ["{{base_url}}"], "path": ["exams", "student", "my-exams"] },
            "description": "GET /api/exams/student/my-exams - قائمة امتحانات التلميذ."
          }
        },
        {
          "name": "تفاصيل امتحان",
          "request": {
            "method": "GET",
            "url": { "raw": "{{base_url}}/exams/{{exam_id}}", "host": ["{{base_url}}"], "path": ["exams", "{{exam_id}}"] }
          }
        },
        {
          "name": "تقديم إجابات الامتحان",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json", "type": "text" }],
            "body": { "mode": "raw", "raw": "{\n  \"answers\": []\n}" },
            "url": { "raw": "{{base_url}}/exams/{{exam_id}}/submit", "host": ["{{base_url}}"], "path": ["exams", "{{exam_id}}", "submit"] }
          }
        },
        {
          "name": "نتائج الامتحان",
          "request": {
            "method": "GET",
            "url": { "raw": "{{base_url}}/exams/{{exam_id}}/results", "host": ["{{base_url}}"], "path": ["exams", "{{exam_id}}", "results"] }
          }
        }
      ]
    },
    {
      "name": "12. دفعات (Payments)",
      "description": "إنشاء دفع للحجز، حالة الدفع.",
      "item": [
        {
          "name": "إنشاء نية دفع (Payment Intent)",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json", "type": "text" }],
            "body": { "mode": "raw", "raw": "{\n  \"paymentMethod\": \"card\"\n}" },
            "url": { "raw": "{{base_url}}/payments/bookings/{{booking_id}}/intent", "host": ["{{base_url}}"], "path": ["payments", "bookings", "{{booking_id}}", "intent"] },
            "description": "POST /api/payments/bookings/:bookingId/intent - لبدء الدفع بالبطاقة (Stripe)."
          }
        },
        {
          "name": "حالة الدفع",
          "request": {
            "method": "GET",
            "url": { "raw": "{{base_url}}/payments/bookings/{{booking_id}}", "host": ["{{base_url}}"], "path": ["payments", "bookings", "{{booking_id}}"] }
          }
        }
      ]
    }
  ]
}
